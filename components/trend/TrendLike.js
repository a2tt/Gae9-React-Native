import 'react-native-gesture-handler';
import type {Node} from 'react';
import React, {useEffect, useState} from 'react';
import styled from 'styled-components/native';
import {http} from '../../utils/http';
import {useRecoilState, useRecoilValue} from 'recoil/native/recoil';
import {myTrendLikeState, trendLikeState, trendState} from '../../utils/atom';

const LikeItem: () => Node = ({type}) => {
  const trend = useRecoilValue(trendState);
  const [myTrendLike, setMyTrendLike] = useRecoilState(myTrendLikeState);
  const [trendLike, setTrendLike] = useRecoilState(trendLikeState);
  const [cnt, setCnt] = useState(0);
  const [opacity, setOpacity] = useState(1);

  const good =
    'data:image/png;base64,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';
  const bad =
    'data:image/png;base64,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';

  const targetKey = type === 1 ? 'good_cnt' : 'bad_cnt';
  const imageData = type === 1 ? good : bad;

  useEffect(() => {
    setOpacity(myTrendLike[targetKey] >= 1 ? 1 : 0.1);
    setCnt(trendLike[targetKey]);
  }, [myTrendLike]);

  const onPress = async () => {
    let res = await http.trendUserAction(trend.id, {expression: type});
    setMyTrendLike(res.data.response.my_trend_action);
    setTrendLike(res.data.response.total_cnt);
  };

  return (
    <LikeTouchableOpacity onPress={e => onPress()}>
      <LikeView>
        <LikeImage
          resizeMode={'contain'}
          source={{uri: imageData}}
          tintColor={'gray'}
        />
        <LikeImage
          resizeMode={'contain'}
          source={{uri: imageData}}
          opacity={opacity}
          style={{position: 'absolute'}}
        />
        <LikeCntText>{cnt}</LikeCntText>
      </LikeView>
    </LikeTouchableOpacity>
  );
};

export const TrendLikeContainer: () => Node = () => {
  return (
    <TrendLikeView>
      <LikeItem type={1}/>
      <LikeItem type={-1}/>
    </TrendLikeView>
  );
};

const TrendLikeView = styled.View`
  text-align: center;
  flex-direction: row;
  align-items: center;
  justify-content: center;
  background-color: #ffffff;
`;

const LikeTouchableOpacity = styled.TouchableOpacity`
  text-align: center;
  padding: 3%;
`;

const LikeView = styled.View`
  text-align: center;
`;
const LikeImage = styled.Image`
  width: 50;
  height: 50;
`;

const LikeCntText = styled.Text`
  text-align: center;
`;
